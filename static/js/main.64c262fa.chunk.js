(window["webpackJsonpautho-dapp"]=window["webpackJsonpautho-dapp"]||[]).push([[0],{71:function(e,t,a){e.exports=a(84)},76:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),l=(a(76),a(26)),i=a(15),s=a(21),u=a(118),m=a(130),p=a(131),f=a(41),d=a(136),h=a(132),E=a(133),g=a(134),b=a(61),x=a.n(b),y=a(59),v=a.n(y),w=a(60),O=a.n(w),j=a(85),N=a(120),S=Object(u.a)((function(e){return{root:{flexGrow:1,padding:24}}})),k=function(){S();return r.a.createElement(s.b,{to:"/get"},r.a.createElement(N.a,null,"Get Authograph"))},C=Object(u.a)((function(e){return{root:{flexGrow:1,padding:24}}})),J=function(){C();return r.a.createElement(s.b,{to:"/create"},r.a.createElement(N.a,null,"Create Authograph"))},T=Object(u.a)((function(e){return{root:{flexGrow:1,padding:24},introBox:{},buttonBox:{display:"flex",justifyContent:"center"}}})),D=function(){var e=T();return r.a.createElement(d.a,{className:e.introBox},r.a.createElement(j.a,{className:e.root},r.a.createElement(f.a,{variant:"h5",component:"h3"},"Welcome to Crypatographer."),r.a.createElement("br",null),r.a.createElement(f.a,{component:"p"},r.a.createElement("b",null,"Crypatographer")," can be used to collect authographs and proofs of meeting from people you met."),r.a.createElement("br",null),r.a.createElement(d.a,{className:e.buttonBox},r.a.createElement(J,null),r.a.createElement(k,null))))},B=a(122),q=a(123),A=a(135),G=a(10),I=a.n(G),H=a(16),P=a(29),W="wallet-mnemonic",M="wallet-path",R=localStorage.getItem(W)&&localStorage.getItem(M)?P.Wallet.fromMnemonic(localStorage.getItem(W),localStorage.getItem(M)):P.Wallet.createRandom();function L(){localStorage.setItem(W,R.mnemonic),localStorage.setItem(M,R.path)}function _(){return R.address}function U(){return R}L();var z=Object(u.a)((function(e){return{root:{flexGrow:1},avatar:{width:80,height:80,margin:10},textField:{marginLeft:"16px",marginRight:"16px",width:"250px"},profileBox:{marginTop:"16px",height:"100%",justifyContent:"flex-start",flexDirection:"column",display:"flex"}}})),F=function(){var e=z(),t=r.a.useState(""),a=Object(l.a)(t,2),n=a[0],o=a[1];return r.a.useEffect((function(){n||o(_())}),[n]),n?r.a.createElement(d.a,{className:e.profileBox},r.a.createElement(d.a,{style:{display:"flex",alignContent:"center",flexDirection:"row"}},r.a.createElement(f.a,{variant:"h5",component:"p"},"John ",r.a.createElement("b",null,"DOE")," Profile")),r.a.createElement(B.a,null),r.a.createElement(f.a,{variant:"h6",component:"h6"}),r.a.createElement(d.a,null,r.a.createElement(q.a,{className:e.avatar},"JD")),r.a.createElement(d.a,null,r.a.createElement(A.a,{id:"standard-input",className:e.textField,label:"Wallet",defaultValue:n.toLowerCase(),margin:"normal"})),r.a.createElement(d.a,null,r.a.createElement(N.a,null,"Copy"),r.a.createElement(N.a,{color:"secondary"},"Reveal secret"))):null},K=a(124),V=a(125),X=a(127),Y=a(126),$=a(128),Q=a(58),Z=a.n(Q),ee=Object(u.a)((function(e){return{root:{width:"100%",maxWidth:360},collectiblesBox:{}}})),te=function(){var e=ee();return r.a.createElement(d.a,{className:e.collectiblesBox},r.a.createElement(d.a,{style:{display:"flex",alignContent:"center",flexDirection:"row"}},r.a.createElement(f.a,{variant:"h5",component:"p"},"John ",r.a.createElement("b",null,"DOE")," Collectibles")),r.a.createElement(B.a,null),r.a.createElement(K.a,{className:e.root},r.a.createElement(V.a,null,r.a.createElement(Y.a,null,r.a.createElement(q.a,null,"JJ")),r.a.createElement(X.a,{primary:"Joanna JOSE",secondary:"Jan 9, 2014 | kyiv, UA"})),r.a.createElement(V.a,null,r.a.createElement(Y.a,null,r.a.createElement(q.a,null,"JD")),r.a.createElement(X.a,{primary:"John DOE",secondary:"Jan 7, 2014"})),r.a.createElement(V.a,null,r.a.createElement(Y.a,null,r.a.createElement(q.a,null,"DJ")),r.a.createElement(X.a,{primary:"Dow JONES",secondary:"July 20, 2014 | new york, USA"})),r.a.createElement(V.a,null,r.a.createElement(Y.a,null,r.a.createElement($.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement(Z.a,{color:"action"})},r.a.createElement(q.a,null,"PJ"))),r.a.createElement(X.a,{primary:"Polly Jean HARVEY",secondary:"July 21, 2014 | glastonbury, UK"}))))},ae=a(45),ne=a.n(ae),re=function(e){try{var t=ne()(0,"M");return t.addData(e),t.make(),t}catch(a){console.log(a)}},oe=(ne.a,Object(u.a)((function(e){return{root:{flexGrow:1},introBox:{}}}))),ce=Object(i.e)((function(e){var t=e.match,a=oe(),n=re("".concat("https://szhigunov.github.io/auth-dapp","/qrcode/get/").concat(t.params.id)),o=n&&n.createSvgTag(2,3);return r.a.createElement(d.a,{className:a.introBox},r.a.createElement("div",{style:{maxHeight:320,width:"100%"},dangerouslySetInnerHTML:{__html:o||""}}),r.a.createElement(N.a,{component:s.b,to:"/",color:"secondary"},"Close"))})),le=a(129),ie="0xf3214fa89da13b1138be07c9a020e28f9db2a627",se="https://dapp.ml/delegated-tx";function ue(e){return me.apply(this,arguments)}function me(){return(me=Object(H.a)(I.a.mark((function e(t){var a,n,r=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"GET",n=r.length>2&&void 0!==r[2]?r[2]:void 0,e.abrupt("return",new Promise((function(e,r){var o=new XMLHttpRequest;o.open(a,t,!0),n&&o.setRequestHeader("Content-Type","application/json"),o.onload=function(){if(4===o.readyState&&o.status>=200&&o.status<300)e(JSON.parse(o.responseText));else{if(!o.responseText)return void r("HTTPCODE ".concat(o.status));try{var t=JSON.parse(o.responseText);return void r(t&&(t.error||t)||"HTTPCODE ".concat(o.status,", ").concat(o.responseText))}catch(a){r(o.responseText)}}},o.onerror=function(){return r("request failed")},o.send(n&&JSON.stringify(n))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=function(){var e=Object(H.a)(I.a.mark((function e(t,a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue(t,"POST",a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function fe(){return de.apply(this,arguments)}function de(){return(de=Object(H.a)(I.a.mark((function e(){var t,a,n,r,o,c,l,i,s=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},a=t.expiresAt,n=void 0===a?new Date(Date.now()+603e7):a,r=t.autographs,o=void 0===r?50:r,c=U(),l=_(),e.next=5,c.signMessage(P.utils.arrayify(P.utils.solidityKeccak256(["address","address","uint256","uint256"],[ie,l,o,n=Math.floor(n.getTime()/1e3)])));case 5:return i=e.sent,e.abrupt("return","".concat(l,"|").concat(o,"|").concat(n,"|").concat(i));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(H.a)(I.a.mark((function e(t){var a,n,r,o,c,i,s,u,m,p,f,d,h;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.split("|"),n=Object(l.a)(a,4),r=n[0],o=n[1],c=n[2],i=n[3],s=U(),e.next=4,pe("".concat(se,"/request"),{contractAddress:ie,from:_(),functionArguments:[o,c,_(),r,i],functionName:"claimAutograph"});case 4:if(u=e.sent,m=u.request,p=m.signatureOptions.find((function(e){return"eth_personalSign"===e.standard}))){e.next=9;break}throw new Error("No signature option eth_personalSign is provided by back end ".concat(se));case 9:return e.next=11,s.signMessage(P.utils.arrayify(p.dataToSign));case 11:return f=e.sent,e.next=14,pe("".concat(se,"/confirm"),{requestId:m.id,signatureStandard:"eth_personalSign",signature:f});case 14:return d=e.sent,h=d.result,e.abrupt("return",h.status);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=Object(u.a)((function(){return{box:{display:"flex",justifyContent:"center"},progress:{margin:24}}})),be=function(){var e=Object(H.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:a=e.sent,t(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=Object(i.e)((function(e){var t=e.history,a=ge();return r.a.useEffect((function(){be((function(e){return t.push("/qrcode/".concat(e))}))})),r.a.createElement(d.a,{className:a.box},r.a.createElement(le.a,{className:a.progress}))})),ye=Object(u.a)((function(){return{box:{display:"flex",justifyContent:"center"},progress:{margin:24}}})),ve=function(){var e=Object(H.a)(I.a.mark((function e(t,a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t);case 2:"confirmed"===e.sent&&a();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),we=[{key:"home",path:"/",exact:!0,component:D},{key:"profile",path:"/profile",component:F},{key:"collectibles",path:"/collectibles",component:te},{key:"qrcode",path:"/qrcode/:id",exact:!0,component:ce},{key:"create",path:"/create",component:xe},{key:"get",path:"/qrcode/get/:id",exact:!0,component:Object(i.e)((function(e){var t=e.match,a=e.history,n=ye();return r.a.useEffect((function(){ve(t.params.id,(function(){return a.push("/profile/claimed")}))})),r.a.createElement(d.a,{className:n.box},r.a.createElement(le.a,{className:n.progress,color:"secondary"}))}))}],Oe=Object(u.a)((function(){return{box:{display:"flex",justifyContent:"center"},progress:{margin:24}}})),je=function(){var e=Oe();return r.a.createElement(d.a,{className:e.box},r.a.createElement(le.a,{className:e.progress}))},Ne=(a(83),Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},main:{height:"calc(100vh - 112px)",justifyContent:"center",flexDirection:"column",display:"flex"},introBox:{}}})));function Se(e){return r.a.createElement(i.a,{path:e.path,exact:e.exact,render:function(t){return r.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}})}var ke=function(){var e=Ne(),t=r.a.useState(0),a=Object(l.a)(t,2),n=a[0],o=a[1],c=r.a.useState(""),i=Object(l.a)(c,2),u=i[0],b=i[1];return r.a.useEffect((function(){u||b(_())}),[u]),r.a.createElement("div",{className:e.root},r.a.createElement(d.a,null,r.a.createElement(s.a,{basename:"auth-dapp"},r.a.createElement(m.a,{position:"static"},r.a.createElement(p.a,null,r.a.createElement(f.a,{variant:"h6",className:e.title},"Crypatographer"))),r.a.createElement(h.a,{maxWidth:"sm",className:e.main},!u&&r.a.createElement(je,null),u&&we.map((function(e,t){return r.a.createElement(Se,Object.assign({key:t},e))}))),r.a.createElement(E.a,{value:n,onChange:function(e,t){o(t)},showLabels:!0,className:e.root},r.a.createElement(g.a,{component:s.b,label:"Home",icon:r.a.createElement(v.a,null),to:"/"}),r.a.createElement(g.a,{component:s.b,label:"Profile",icon:r.a.createElement(O.a,null),to:"/profile"}),r.a.createElement(g.a,{component:s.b,label:"Collectibles",icon:r.a.createElement(x.a,null),to:"/collectibles"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[71,1,2]]]);
//# sourceMappingURL=main.64c262fa.chunk.js.map